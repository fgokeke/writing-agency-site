{% extends "base.html" %}
{% block title %}Blog{% endblock %}

{% block content %}
<section class="max-w-6xl mx-auto px-6 py-16">

    <h1 class="text-4xl font-bold text-center mb-12">
        Blog & Insights
    </h1>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">

        {% for post in posts %}
        <article class="bg-white rounded-lg shadow overflow-hidden">

            {% if post.cover_image %}
            <img
                src="{{ post.cover_image.url }}"
                alt="{{ post.title }}"
                class="w-full h-48 object-cover"
            />
            {% endif %}

            <div class="p-6">
                <h2 class="text-xl font-semibold mb-2">
                    <a href="{% url 'blog_detail' post.slug %}" class="hover:underline">
                        {{ post.title }}
                    </a>
                </h2>

                <p class="text-sm text-gray-500 mb-4">
                    {{ post.created_at|date:"F j, Y" }}
                </p>

                <p class="text-gray-600">
                    {{ post.content|truncatewords:20 }}
                </p>
            </div>

        </article>
        {% empty %}
        <p>No blog posts yet.</p>
        {% endfor %}

    </div>

</section>
{% endblock %}